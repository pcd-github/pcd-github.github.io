{"ast":null,"code":"import * as d3 from \"d3\";\nexport const portfolioValueTextID = 'portfoliovaluetext';\nconst perRunClass = 'perrundata';\nconst failureColorString = 'Crimson';\nconst lowValueColorString = 'Orange';\nconst highValueColorString = 'ForestGreen';\nconst maxValueColorString = 'DarkGreen';\nconst midValueColorString = 'DarkKhaki';\nconst portfolioLineClass = 'portfolioline';\nconst startValueMargin = 0.5;\nconst thresholdValues = [0, 1 - startValueMargin, 1 + startValueMargin, 3, 20];\nexport const cleanupPrev = () => {\n  const perRunSelect = '.' + perRunClass;\n  d3.selectAll(perRunSelect).remove();\n};\nexport const getPerRunClassName = () => {\n  return perRunClass;\n};\nexport const getPortfolioLineClassName = () => {\n  return portfolioLineClass;\n};\nexport const getFailureColorString = () => {\n  return failureColorString;\n};\nexport const getLowValueColorString = () => {\n  return lowValueColorString;\n};\nexport const getHighValueColorString = () => {\n  return highValueColorString;\n};\nexport const getMaxValueColorString = () => {\n  return maxValueColorString;\n};\nexport const getMidValueColorString = () => {\n  return midValueColorString;\n};\nexport const getThresholdValues = () => {\n  return thresholdValues;\n};\nexport const getColorStringForRelativeValue = ratioValue => {\n  var retValue = midValueColorString;\n\n  if (0 >= ratioValue) {\n    retValue = getFailureColorString();\n  } else if (ratioValue < 1 - startValueMargin) {\n    retValue = getLowValueColorString();\n  } else if (ratioValue >= 1 + startValueMargin) {\n    if (ratioValue >= thresholdValues[thresholdValues.length - 2]) {\n      retValue = getMaxValueColorString();\n    } else {\n      retValue = getHighValueColorString();\n    }\n  }\n\n  return retValue;\n};\nexport const findByID = elementID => {\n  const selectID = '#' + elementID;\n  return d3.select(selectID);\n};\nexport const findByClass = (parent, className) => {\n  const selectClass = '.' + className;\n  return parent.selectAll(selectClass);\n};\nexport const makeCurrency = num => {\n  let dollarUSLocale = Intl.NumberFormat('en-US', {\n    style: \"currency\",\n    currency: \"USD\"\n  });\n  return dollarUSLocale.format(num);\n};\nexport const makePct = num => {\n  return Number(num * 100).toFixed(2) + '%';\n};","map":{"version":3,"sources":["/Users/paul/OneDrive/Documents/code/src/swrve/src/common.js"],"names":["d3","portfolioValueTextID","perRunClass","failureColorString","lowValueColorString","highValueColorString","maxValueColorString","midValueColorString","portfolioLineClass","startValueMargin","thresholdValues","cleanupPrev","perRunSelect","selectAll","remove","getPerRunClassName","getPortfolioLineClassName","getFailureColorString","getLowValueColorString","getHighValueColorString","getMaxValueColorString","getMidValueColorString","getThresholdValues","getColorStringForRelativeValue","ratioValue","retValue","length","findByID","elementID","selectID","select","findByClass","parent","className","selectClass","makeCurrency","num","dollarUSLocale","Intl","NumberFormat","style","currency","format","makePct","Number","toFixed"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AAEA,OAAO,MAAMC,oBAAoB,GAAG,oBAA7B;AACP,MAAMC,WAAW,GAAG,YAApB;AACA,MAAMC,kBAAkB,GAAG,SAA3B;AACA,MAAMC,mBAAmB,GAAG,QAA5B;AACA,MAAMC,oBAAoB,GAAG,aAA7B;AACA,MAAMC,mBAAmB,GAAG,WAA5B;AACA,MAAMC,mBAAmB,GAAG,WAA5B;AACA,MAAMC,kBAAkB,GAAG,eAA3B;AACA,MAAMC,gBAAgB,GAAG,GAAzB;AACA,MAAMC,eAAe,GAAG,CAAC,CAAD,EAAI,IAAID,gBAAR,EAA0B,IAAIA,gBAA9B,EAAgD,CAAhD,EAAmD,EAAnD,CAAxB;AAEA,OAAO,MAAME,WAAW,GAAG,MAAM;AAC7B,QAAMC,YAAY,GAAG,MAAMV,WAA3B;AACAF,EAAAA,EAAE,CAACa,SAAH,CAAaD,YAAb,EAA2BE,MAA3B;AACH,CAHM;AAKP,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACpC,SAAOb,WAAP;AACH,CAFM;AAIP,OAAO,MAAMc,yBAAyB,GAAG,MAAM;AAC3C,SAAOR,kBAAP;AACH,CAFM;AAIP,OAAO,MAAMS,qBAAqB,GAAG,MAAM;AACvC,SAAOd,kBAAP;AACH,CAFM;AAIP,OAAO,MAAMe,sBAAsB,GAAG,MAAM;AACxC,SAAOd,mBAAP;AACH,CAFM;AAIP,OAAO,MAAMe,uBAAuB,GAAG,MAAM;AACzC,SAAOd,oBAAP;AACH,CAFM;AAIP,OAAO,MAAMe,sBAAsB,GAAG,MAAM;AACxC,SAAOd,mBAAP;AACH,CAFM;AAIP,OAAO,MAAMe,sBAAsB,GAAG,MAAM;AACxC,SAAOd,mBAAP;AACH,CAFM;AAIP,OAAO,MAAMe,kBAAkB,GAAG,MAAM;AACpC,SAAOZ,eAAP;AACH,CAFM;AAIP,OAAO,MAAMa,8BAA8B,GAAIC,UAAD,IAAgB;AAC1D,MAAIC,QAAQ,GAAGlB,mBAAf;;AAEA,MAAI,KAAKiB,UAAT,EAAqB;AACjBC,IAAAA,QAAQ,GAAGR,qBAAqB,EAAhC;AACH,GAFD,MAGK,IAAIO,UAAU,GAAI,IAAIf,gBAAtB,EAAyC;AAC1CgB,IAAAA,QAAQ,GAAGP,sBAAsB,EAAjC;AACH,GAFI,MAGA,IAAIM,UAAU,IAAK,IAAIf,gBAAvB,EAA0C;AAC3C,QAAIe,UAAU,IAAKd,eAAe,CAACA,eAAe,CAACgB,MAAhB,GAAuB,CAAxB,CAAlC,EAA+D;AAC3DD,MAAAA,QAAQ,GAAGL,sBAAsB,EAAjC;AACH,KAFD,MAGK;AACDK,MAAAA,QAAQ,GAAGN,uBAAuB,EAAlC;AACH;AACJ;;AAED,SAAOM,QAAP;AACH,CAnBM;AAqBP,OAAO,MAAME,QAAQ,GAAIC,SAAD,IAAe;AACnC,QAAMC,QAAQ,GAAG,MAAMD,SAAvB;AACA,SAAO5B,EAAE,CAAC8B,MAAH,CAAUD,QAAV,CAAP;AACH,CAHM;AAKP,OAAO,MAAME,WAAW,GAAG,CAACC,MAAD,EAASC,SAAT,KAAuB;AAC9C,QAAMC,WAAW,GAAG,MAAMD,SAA1B;AACA,SAAOD,MAAM,CAACnB,SAAP,CAAiBqB,WAAjB,CAAP;AACH,CAHM;AAKP,OAAO,MAAMC,YAAY,GAAIC,GAAD,IAAS;AACjC,MAAIC,cAAc,GAAGC,IAAI,CAACC,YAAL,CAAkB,OAAlB,EAA2B;AAC5CC,IAAAA,KAAK,EAAE,UADqC;AAE5CC,IAAAA,QAAQ,EAAE;AAFkC,GAA3B,CAArB;AAIA,SAAOJ,cAAc,CAACK,MAAf,CAAsBN,GAAtB,CAAP;AACH,CANM;AAQP,OAAO,MAAMO,OAAO,GAAIP,GAAD,IAAS;AAC5B,SAAOQ,MAAM,CAAER,GAAG,GAAG,GAAR,CAAN,CAAmBS,OAAnB,CAA2B,CAA3B,IAAgC,GAAvC;AACH,CAFM","sourcesContent":["import * as d3 from \"d3\";\n\nexport const portfolioValueTextID = 'portfoliovaluetext';\nconst perRunClass = 'perrundata';\nconst failureColorString = 'Crimson';\nconst lowValueColorString = 'Orange';\nconst highValueColorString = 'ForestGreen';\nconst maxValueColorString = 'DarkGreen';\nconst midValueColorString = 'DarkKhaki';\nconst portfolioLineClass = 'portfolioline';\nconst startValueMargin = 0.5;\nconst thresholdValues = [0, 1 - startValueMargin, 1 + startValueMargin, 3, 20];\n\nexport const cleanupPrev = () => {\n    const perRunSelect = '.' + perRunClass;\n    d3.selectAll(perRunSelect).remove();\n}\n\nexport const getPerRunClassName = () => {\n    return perRunClass;\n}\n\nexport const getPortfolioLineClassName = () => {\n    return portfolioLineClass;\n}\n\nexport const getFailureColorString = () => {\n    return failureColorString;\n}\n\nexport const getLowValueColorString = () => {\n    return lowValueColorString;\n}\n\nexport const getHighValueColorString = () => {\n    return highValueColorString;\n}\n\nexport const getMaxValueColorString = () => {\n    return maxValueColorString;\n}\n\nexport const getMidValueColorString = () => {\n    return midValueColorString;\n}\n\nexport const getThresholdValues = () => {\n    return thresholdValues;\n}\n\nexport const getColorStringForRelativeValue = (ratioValue) => {\n    var retValue = midValueColorString;\n\n    if (0 >= ratioValue) {\n        retValue = getFailureColorString();\n    }\n    else if (ratioValue < (1 - startValueMargin)) {\n        retValue = getLowValueColorString();\n    }\n    else if (ratioValue >= (1 + startValueMargin)) {\n        if (ratioValue >= (thresholdValues[thresholdValues.length-2])) {\n            retValue = getMaxValueColorString();\n        }\n        else {\n            retValue = getHighValueColorString();\n        }\n    }\n\n    return retValue;\n}\n\nexport const findByID = (elementID) => {\n    const selectID = '#' + elementID;\n    return d3.select(selectID);\n}\n\nexport const findByClass = (parent, className) => {\n    const selectClass = '.' + className;\n    return parent.selectAll(selectClass);\n}\n\nexport const makeCurrency = (num) => {\n    let dollarUSLocale = Intl.NumberFormat('en-US', {\n        style: \"currency\",\n        currency: \"USD\",\n    });\n    return dollarUSLocale.format(num);\n}\n\nexport const makePct = (num) => {\n    return Number( num * 100).toFixed(2) + '%';\n}\n\n"]},"metadata":{},"sourceType":"module"}